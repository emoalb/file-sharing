(this["webpackJsonpfile-dropper-client"]=this["webpackJsonpfile-dropper-client"]||[]).push([[0],{35:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(9),i=t.n(r),a=(t(33),t(21),t(34),t(35),t(12)),s=t(25),o=t.n(s),l=(t(44),"/"),u=t(1),j=function(){var e=Object(a.useToasts)().addToast;return Object(u.jsx)(o.a,{getUploadParams:function(){return{url:l+"api/uploadFile"}},onChangeStatus:function(n,t){var c=n.meta;console.log(c,t),console.log(t,c),"preparing"===t&&e(t,{appearance:"info",autoDismiss:4}),"done"===t&&e(t,{appearance:"success",autoDismiss:4}),"exception_upload"===t&&e(t,{appearance:"error",autoDismiss:4})},onSubmit:function(e,n){console.log(e.map((function(e){return e.meta}))),n.forEach((function(e){return e.remove()}))},styles:{dropzone:{minHeight:200,maxHeight:250}}})},d=function(){return Object(u.jsx)("section",{id:"upload-page",children:Object(u.jsx)(a.ToastProvider,{children:Object(u.jsx)(j,{})})})},p=t(4),f=t(11),b=t(18),h=t.n(b),O=t(26);var x=function(e){console.log("Trying to download file with name "+e),fetch(l+"api/downloadFile/"+e).then((function(n){n.blob().then((function(n){var t=window.URL.createObjectURL(n),c=document.createElement("a");c.href=t,c.download=e,c.click()}))}))},g=function(){return Object(u.jsx)("p",{children:"No files Yet!"})},m=function(e,n){return Object(u.jsxs)("p",{children:[e,Object(u.jsx)("button",{onClick:x.bind(undefined,e),children:"Download"})]},n)},v=function(){var e=function(e){var n=Object(c.useState)([]),t=Object(f.a)(n,2),r=t[0],i=t[1],a=Object(c.useState)(!0),s=Object(f.a)(a,2),o=s[0],l=s[1],u=Object(c.useCallback)(function(){var n=Object(O.a)(h.a.mark((function n(t){var c,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e,{signal:t.signal});case 3:return c=n.sent,n.next=6,c.json();case 6:r=n.sent,i(r),l(!1),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),l(!0);case 14:return n.prev=14,l(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return Object(c.useEffect)((function(){var e=new AbortController;return u(e).then((function(){l(!1)})),function(){return e.abort()}}),[u]),[r,o]}(l+"api/getFileList"),n=Object(f.a)(e,2),t=n[0],r=n[1];return Object(u.jsx)("section",{id:"all-files-page",children:r?"Loading....":0===t.length?g():t.map((function(e,n){return m(e,n)}))})},w=t(10),F=function(e){return Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(w.b,{className:"nav-link",to:e.href,children:e.caption})})},k=function(e){return Object(u.jsxs)("nav",{children:[Object(u.jsx)("h1",{children:"Spring Cloud Beta 0.0.3"}),Object(u.jsxs)("ul",{className:"nav nav-pills card-header-pills",children:[Object(u.jsx)(F,{caption:"Upload Files",href:"/"}),Object(u.jsx)(F,{caption:"List Files",href:"/list-files"})]})]})},C=function(e){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(k,{}),Object(u.jsxs)(p.c,{children:[Object(u.jsx)(p.a,{path:"/list-files",children:Object(u.jsx)(v,{})}),Object(u.jsx)(p.a,{path:"/",children:Object(u.jsx)(d,{})})]})]})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),i(e),a(e)}))};i.a.render(Object(u.jsx)(w.a,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),L()}},[[52,1,2]]]);
//# sourceMappingURL=main.4dcd3e19.chunk.js.map